webpackJsonp([1],{"0FZS":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("BO1k"),l=a.n(n),o=a("Dd8w"),r=a.n(o),c=a("iL11"),s=a("vLgD");var u={name:"account",data:function(){return{exchangeIds:[],exchangeIdsProps:{value:"exchange_id",label:"label",children:"ids"},exchangeIdsValue:[],strategys:[{tran_strategy_id:"0",tran_strategy_name:"无策略"}],strategyValue:"0",accountCommon:[],currencyForm:[]}},mounted:function(){this.initUserId(this.handleFormData)},methods:{initUserId:function(e){var t=this;Object(c.b)().then(function(a){console.log(a.data);var n=a.data.map(function(e){return r()({},e,{label:e.exchange_name,ids:[]})});Object(c.c)(n[0].exchange_id).then(function(a){console.log(a),a.data?(n[0].ids=a.data.map(function(e){return r()({},e,{label:e.account_id,exchange_id:e.account_id})}),t.$set(t.exchangeIdsValue,0,n[0].exchange_id),t.$set(t.exchangeIdsValue,1,n[0].ids[0].account_id),t.exchangeIds=n):(t.$set(t.exchangeIdsValue,0,n[0].exchange_id),t.$set(t.exchangeIdsValue,1,null),t.exchangeIds=n),e&&e()})}),Object(c.d)().then(function(e){var a=!0,n=!1,o=void 0;try{for(var r,c=l()(e.data);!(a=(r=c.next()).done);a=!0){var s=r.value;t.strategys.push(s)}}catch(e){n=!0,o=e}finally{try{!a&&c.return&&c.return()}finally{if(n)throw o}}})},handleItemChange:function(e,t){var a=this;console.log("active item:",e),Object(c.c)(e).then(function(t){var n=void 0,l=a.exchangeIds.filter(function(t,a){if(t.exchange_id==e)return n=a,t})[0];l.ids=t.data.map(function(e){return r()({},e,{label:e.account_id,exchange_id:e.account_id})}),a.$set(a.exchangeIds,n,l)})},handleFormData:function(){var e,t=this;this.exchangeIdsValue[1]&&(console.log({exchange_id:this.exchangeIdsValue[0],account_id:this.exchangeIdsValue[1],strategy_id:this.strategyValue}),(e={exchange_id:this.exchangeIdsValue[0],account_id:this.exchangeIdsValue[1],strategy_id:this.strategyValue},Object(s.a)({url:"/account/general/"+e.exchange_id+"/"+e.account_id+"/"+e.strategy_id,method:"get"})).then(function(e){t.$set(t.accountCommon,0,e.data)}),function(e){return Object(s.a)({url:"/account/asset/"+e.account_id,method:"get",data:e})}({account_id:this.exchangeIdsValue[1]}).then(function(e){t.currencyForm=e.data}))},getRowClass:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;return 0==t?"background:rgb(64, 158, 255);color: #fff;border: 1px solid rgb(48, 65, 86);":""}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account-view"},[a("div",{staticClass:"head-params"},[a("el-button",{attrs:{type:"text"}},[e._v("用户账户选择：")]),e._v(" "),a("el-cascader",{staticClass:"m-r10",attrs:{options:e.exchangeIds,props:e.exchangeIdsProps,"show-all-levels":!0},on:{"active-item-change":e.handleItemChange,change:e.handleFormData},model:{value:e.exchangeIdsValue,callback:function(t){e.exchangeIdsValue=t},expression:"exchangeIdsValue"}}),e._v(" "),a("el-button",{attrs:{type:"text"}},[e._v("策略选择：")]),e._v(" "),a("el-select",{staticClass:"m-r10",on:{change:e.handleFormData},model:{value:e.strategyValue,callback:function(t){e.strategyValue=t},expression:"strategyValue"}},e._l(e.strategys,function(e){return a("el-option",{key:e.tran_strategy_id,attrs:{label:e.tran_strategy_name,value:e.tran_strategy_id}})}))],1),e._v(" "),a("el-tabs",{staticClass:"line-bottom",attrs:{disabled:""}},[a("el-tab-pane",{attrs:{label:"账户概况"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"80%"},attrs:{data:e.accountCommon,border:"","header-cell-style":e.getRowClass}},[a("el-table-column",{attrs:{label:"年华收益率"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.annual_voltility)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"总资产"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.total)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"可用资金"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.available)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"总体仓位"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.position)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最大回撤"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.max_drawdown)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Sharpe"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.shape)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"策略波动率"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.downside_voltility)+"\n        ")]}}])})],1),e._v(" "),a("el-tabs",{staticClass:"line-bottom",attrs:{disabled:""}},[a("el-tab-pane",{attrs:{label:"资产分布状况"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"80%"},attrs:{data:e.currencyForm,border:"",stripe:!0,"header-cell-style":e.getRowClass}},[a("el-table-column",{attrs:{label:"标签"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.e_desc)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"币个数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.coin_amt)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"当前价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.current_price)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"转化为人民币"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.to_coin)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"转化为美元"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.to_usd)+"\n        ")]}}])})],1)],1)},staticRenderFns:[]};var d=a("VU/8")(u,i,!1,function(e){a("ZsjZ")},"data-v-4ed101b3",null);t.default=d.exports},BO1k:function(e,t,a){e.exports={default:a("fxRn"),__esModule:!0}},D5Dl:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.account-view[data-v-4ed101b3] {\n  width: 80%;\n  height: 100%;\n  margin: 0 10%;\n  padding-bottom: 60px;\n}\n.account-view .line-bottom[data-v-4ed101b3] {\n    margin: 30px auto;\n}\n.account-view .head-params[data-v-4ed101b3] {\n    width: 100%;\n    margin: 60px auto 0;\n}\n.account-view .head-params .m-r10[data-v-4ed101b3] {\n      margin-right: 40px;\n}\n",""])},ZsjZ:function(e,t,a){var n=a("D5Dl");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("97acafe6",n,!0)},fxRn:function(e,t,a){a("+tPU"),a("zQR9"),e.exports=a("g8Ux")},g8Ux:function(e,t,a){var n=a("77Pl"),l=a("3fs2");e.exports=a("FeBl").getIterator=function(e){var t=l(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},iL11:function(e,t,a){"use strict";t.b=function(e){return Object(n.a)({url:"/exchange",method:"get",data:e})},t.c=function(e){return Object(n.a)({url:"/account/"+e,method:"get"})},t.d=function(){return Object(n.a)({url:"/strategy",method:"get"})},t.e=function(){return Object(n.a)({url:"/symbol",method:"get"})},t.a=function(){return Object(n.a)({url:"/contract",method:"get"})};var n=a("vLgD")}});